---
sidebar: sidebar 
permalink: br-start-discover-backup-targets.html 
keywords: backing up, back up, backup, backup application data, Amazon Web services, AWS, NetApp Backup and Recovery, Microsoft SQL Server database, 
summary: 'NetApp Backup and Recoveryでオフサイト バックアップ ターゲットを検出するには、いくつかの手順を実行します。これらのターゲットには、Amazon Web Services (AWS) S3、Microsoft Azure Blob Storage、Google Cloud Storage、 StorageGRIDなどが含まれます。' 
---
= NetApp Backup and Recoveryでオフサイトバックアップターゲットを検出
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
NetApp Backup and Recoveryでオフサイト バックアップ ターゲットを検出したり手動で追加したりするには、いくつかの手順を実行します。



== バックアップターゲットを発見

NetApp Backup and Recoveryを使用する前に、バックアップ ターゲット (Amazon Web Services (AWS) S3、Microsoft Azure Blob Storage、Google Cloud Storage、またはStorageGRID ) を構成します。

これらのターゲットを自動的に検出することも、手動で追加することもできます。

ストレージ アカウントにアクセスするための資格情報を提供します。  NetApp Backup and Recovery はこれらの資格情報を使用して、バックアップするワークロードを検出します。

.開始する前に
オフサイト バックアップ ターゲットを追加する前に、少なくとも 1 つのワークロードを検出する必要があります。

.手順
. NetApp Backup and Recoveryメニューから、*インベントリ* を選択します。
. *オフサイト バックアップ ターゲット* タブを選択します。
. *バックアップターゲットの検出*を選択します。
. バックアップ ターゲット タイプとして、*Amazon Web Services (AWS) S3*、*Microsoft Azure Blob Storage*、* StorageGRID*、* ONTAP S3* のいずれかを選択します。
. *資格情報の場所の選択*セクションで、資格情報が存在する場所を選択し、資格情報を関連付ける方法を選択します。
. *次へ*を選択します。
. 資格情報を入力します。情報は、選択したバックアップ対象の種類と資格情報の保存場所によって異なります。
+
** AWS の場合:
+
*** *認証情報名*: AWS 認証情報名を入力します。
*** *アクセスキー*: AWS シークレットを入力します。
*** *秘密キー*: AWS 秘密キーを入力します。


** Azureの場合:
+
*** *資格情報名*: Azure Blob Storage の資格情報名を入力します。
*** *クライアント シークレット*: Azure Blob Storage クライアント シークレットを入力します。
*** *アプリケーション (クライアント) ID*: Azure Blob Storage アプリケーション ID を選択します。
*** *ディレクトリ テナント ID*: Azure Blob Storage テナント ID を入力します。


** StorageGRIDの場合:
+
*** *資格情報名*: StorageGRID資格情報名を入力します。
*** *ゲートウェイ ノード FQDN*: StorageGRIDの FQDN 名を入力します。
*** *ポート*: StorageGRIDのポート番号を入力します。
*** *アクセス キー*: StorageGRID S3 アクセス キーを入力します。
*** *秘密キー*: StorageGRID S3 秘密キーを入力します。


** ONTAP S3 の場合:
+
*** *認証情報名*: ONTAP S3 認証情報名を入力します。
*** *ゲートウェイ ノード FQDN*: ONTAP S3 の FQDN 名を入力します。
*** *ポート*: ONTAP S3 のポート番号を入力します。
*** *アクセス キー*: ONTAP S3 アクセス キーを入力します。
*** *秘密キー*: ONTAP S3 秘密キーを入力します。




. *Discover*を選択します。




== バックアップターゲットのバケットを追加する

NetApp Backup and Recoveryでバケットを自動的に検出するのではなく、オフサイト バックアップ ターゲットにバケットを手動で追加できます。

.手順
. NetApp Backup and Recoveryメニューから、*インベントリ* を選択します。
. *オフサイト バックアップ ターゲット*を選択します。
. ターゲットを選択し、右側の*アクション*を選択しますimage:icon-action.png["アクションアイコン"]アイコンをクリックし、[バケットを追加] を選択します。
. バケット情報を入力します。情報は、選択したバックアップ対象の種類によって異なります。
+
** AWS の場合:
+
*** *バケット名*: S3 バケットの名前を入力します。「netapp-backup」というプレフィックスは必須のプレフィックスであり、指定した名前に自動的に追加されます。
*** *AWS アカウント*: AWS アカウント名を入力します。
*** *バケットリージョン*: バケットの AWS リージョンを入力します。
*** *S3 オブジェクト ロックを有効にする*: バケットの S3 オブジェクト ロックを有効にするには、このオプションを選択します。 S3 オブジェクトロックは、指定された保持期間中にオブジェクトの削除または上書きを防ぎ、データ保護をさらに強化します。これはバケットを作成するときにのみ有効にすることができ、後で無効にすることはできません。
+
**** *ガバナンス モード*: S3 オブジェクト ロック バケットのガバナンス モードを有効にするには、このオプションを選択します。ガバナンス モードでは、ほとんどのユーザーによるオブジェクトの削除や上書きを防止できますが、特定のユーザーは保持設定を変更できます。
**** *コンプライアンス モード*: S3 オブジェクト ロック バケットのコンプライアンス モードを有効にするには、このオプションを選択します。コンプライアンス モードでは、保持期間が終了するまで、ルート ユーザーを含むすべてのユーザーが保持設定を変更したりオブジェクトを削除したりすることはできません。


*** *バージョン管理*: S3 バケットのバージョン管理を有効にするには、このオプションを選択します。バージョニングを使用すると、バケット内にオブジェクトの複数のバージョンを保存できるため、バックアップやリカバリに役立ちます。
*** *タグ*: S3 バケットのタグを選択します。タグは、S3 リソースを整理および管理するために使用できるキーと値のペアです。
*** *暗号化*: S3 バケットの暗号化のタイプを選択します。オプションは、AWS S3 管理キーまたは AWS Key Management Service キーのいずれかです。  AWS Key Management Service キーを選択した場合は、キー ID を指定する必要があります。


** Azureの場合:
+
*** *サブスクリプション*: Azure Blob Storage コンテナーの名前を選択します。
*** *リソース グループ*: Azure リソース グループの名前を選択します。
*** *インスタンスの詳細*:
+
**** *ストレージ アカウント名*: Azure Blob Storage コンテナーの名前を入力します。
**** *Azure リージョン*: コンテナーの Azure リージョンを入力します。
**** *パフォーマンス タイプ*: 必要なパフォーマンス レベルを示す、Azure Blob Storage コンテナーのパフォーマンス タイプ (標準またはプレミアム) を選択します。
**** *暗号化*: Azure Blob Storage コンテナーの暗号化の種類を選択します。オプションは、Microsoft 管理キーまたは顧客管理キーのいずれかです。カスタマー マネージド キーを選択する場合は、キー コンテナー名とキー名を指定する必要があります。




** StorageGRIDの場合:
+
*** *バックアップ対象名*: StorageGRIDバケットの名前を選択します。
*** *バケット名*: StorageGRIDバケットの名前を入力します。
*** *リージョン*: バケットのStorageGRIDリージョンを入力します。
*** *バージョン管理を有効にする*: StorageGRIDバケットのバージョン管理を有効にするには、このオプションを選択します。バージョニングを使用すると、バケット内にオブジェクトの複数のバージョンを保存できるため、バックアップやリカバリに役立ちます。
*** *オブジェクト ロック*: StorageGRIDバケットのオブジェクト ロックを有効にするには、このオプションを選択します。オブジェクト ロックにより、指定された保持期間中、オブジェクトの削除または上書きが防止され、データ保護の層が追加されます。これはバケットを作成するときにのみ有効にすることができ、後で無効にすることはできません。
*** *容量*: StorageGRIDバケットの容量を入力します。これはバケットに保存できるデータの最大量です。


** ONTAP S3 の場合:
+
*** *バックアップターゲット名*: ONTAP S3 バケットの名前を選択します。
*** *バケットターゲット名*: ONTAP S3 バケットの名前を入力します。
*** *容量*: ONTAP S3 バケットの容量を入力します。これはバケットに保存できるデータの最大量です。
*** *バージョン管理を有効にする*: ONTAP S3 バケットのバージョン管理を有効にするには、このオプションを選択します。バージョニングを使用すると、バケット内にオブジェクトの複数のバージョンを保存できるため、バックアップやリカバリに役立ちます。
*** *オブジェクト ロック*: ONTAP S3 バケットのオブジェクト ロックを有効にするには、このオプションを選択します。オブジェクト ロックにより、指定された保持期間中、オブジェクトの削除または上書きが防止され、データ保護の層が追加されます。これはバケットを作成するときにのみ有効にすることができ、後で無効にすることはできません。




. *追加*を選択します。




== バックアップターゲットの資格情報を変更する

バックアップ ターゲットにアクセスするために必要な資格情報を入力します。

.手順
. NetApp Backup and Recoveryメニューから、*インベントリ* を選択します。
. *オフサイト バックアップ ターゲット*を選択します。
. ターゲットを選択し、右側の*アクション*を選択しますimage:icon-action.png["アクションアイコン"]アイコンをクリックし、[資格情報の変更] を選択します。
. バックアップ ターゲットの新しい資格情報を入力します。情報は、選択したバックアップ対象の種類によって異なります。
. *完了*を選択します。

